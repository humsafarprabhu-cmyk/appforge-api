<!-- Chart: Donut with Legend -->
<div class="glass mt-4 p-5 anim-3">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-base font-semibold">{{chartTitle}}</h2>
        <button class="text-xs text-muted px-2.5 py-1 glass-sm touch-btn">{{chartPeriod}}</button>
    </div>
    <div class="flex items-center gap-6">
        <div class="relative w-28 h-28 flex-shrink-0">
            <svg viewBox="0 0 100 100" class="w-full h-full">
                <circle cx="50" cy="50" r="38" fill="none" stroke="rgba(255,255,255,0.06)" stroke-width="12"/>
                <circle cx="50" cy="50" r="38" fill="none" stroke="{{primary1}}" stroke-width="12" stroke-linecap="round" stroke-dasharray="{{seg1Dash}} 239" stroke-dashoffset="0" class="ring-progress"/>
                <circle cx="50" cy="50" r="38" fill="none" stroke="{{accent1a}}" stroke-width="12" stroke-linecap="round" stroke-dasharray="{{seg2Dash}} 239" stroke-dashoffset="-{{seg1Dash}}" class="ring-progress"/>
                <circle cx="50" cy="50" r="38" fill="none" stroke="{{accent2a}}" stroke-width="12" stroke-linecap="round" stroke-dasharray="{{seg3Dash}} 239" stroke-dashoffset="-{{seg12Dash}}" class="ring-progress"/>
            </svg>
            <div class="absolute inset-0 flex flex-col items-center justify-center">
                <span class="text-lg font-extrabold">{{donutCenter}}</span>
                <span class="text-[9px] text-muted">{{donutCenterLabel}}</span>
            </div>
        </div>
        <div class="flex-1 space-y-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <div class="w-3 h-3 rounded-sm gp"></div>
                    <span class="text-xs">{{legend1Label}}</span>
                </div>
                <span class="text-xs font-bold">{{legend1Value}}</span>
            </div>
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <div class="w-3 h-3 rounded-sm ga1"></div>
                    <span class="text-xs">{{legend2Label}}</span>
                </div>
                <span class="text-xs font-bold">{{legend2Value}}</span>
            </div>
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <div class="w-3 h-3 rounded-sm ga2"></div>
                    <span class="text-xs">{{legend3Label}}</span>
                </div>
                <span class="text-xs font-bold">{{legend3Value}}</span>
            </div>
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <div class="w-3 h-3 rounded-sm" style="background:rgba(255,255,255,0.1)"></div>
                    <span class="text-xs">{{legend4Label}}</span>
                </div>
                <span class="text-xs font-bold">{{legend4Value}}</span>
            </div>
        </div>
    </div>
</div>
