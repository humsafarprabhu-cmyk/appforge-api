{
  "id": "expense-tracker",
  "name": "SpendWise",
  "description": "Track expenses, set budgets, see where your money goes",
  "category": "finance",
  "screens": [
    {
      "name": "Dashboard",
      "html": "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no\"><title>SpendWise - Dashboard</title><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#050507;color:#fff;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;min-height:100vh;overflow-x:hidden;padding-bottom:80px}.header{padding:20px 20px 0;display:flex;justify-content:space-between;align-items:center}.header h1{font-size:24px;background:linear-gradient(135deg,#818cf8,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.header .avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#6366f1,#8b5cf6);display:flex;align-items:center;justify-content:center;font-size:16px}.balance-card{margin:20px;padding:24px;background:linear-gradient(135deg,#6366f1 0%,#8b5cf6 50%,#a78bfa 100%);border-radius:20px;position:relative;overflow:hidden}.balance-card::before{content:'';position:absolute;top:-50%;right:-30%;width:200px;height:200px;border-radius:50%;background:rgba(255,255,255,0.1)}.balance-card .label{font-size:13px;opacity:0.8;margin-bottom:4px}.balance-card .amount{font-size:36px;font-weight:700}.balance-card .row{display:flex;justify-content:space-between;margin-top:16px}.balance-card .sub{text-align:center}.balance-card .sub .val{font-size:18px;font-weight:600}.balance-card .sub .lbl{font-size:11px;opacity:0.7;margin-top:2px}.income-icon{color:#4ade80}.expense-icon{color:#f87171}.section-title{padding:0 20px;font-size:15px;font-weight:600;margin:20px 0 12px;display:flex;justify-content:space-between;align-items:center}.section-title span{color:#818cf8;font-size:13px;font-weight:400}.chart-container{margin:0 20px;padding:20px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.06);border-radius:16px;backdrop-filter:blur(20px)}.chart-bar-group{display:flex;align-items:flex-end;justify-content:space-between;height:120px;padding:0 4px;gap:6px}.chart-bar{flex:1;border-radius:6px 6px 0 0;background:linear-gradient(to top,#6366f1,#a78bfa);min-height:8px;position:relative;transition:all 0.6s cubic-bezier(0.34,1.56,0.64,1);animation:barGrow 0.8s ease-out backwards}.chart-bar:nth-child(1){animation-delay:0.1s}.chart-bar:nth-child(2){animation-delay:0.15s}.chart-bar:nth-child(3){animation-delay:0.2s}.chart-bar:nth-child(4){animation-delay:0.25s}.chart-bar:nth-child(5){animation-delay:0.3s}.chart-bar:nth-child(6){animation-delay:0.35s}.chart-bar:nth-child(7){animation-delay:0.4s}@keyframes barGrow{from{height:0;opacity:0}to{opacity:1}}.chart-labels{display:flex;justify-content:space-between;margin-top:8px;padding:0 4px}.chart-labels span{flex:1;text-align:center;font-size:11px;color:rgba(255,255,255,0.4)}.transactions{padding:0 20px}.tx-item{display:flex;align-items:center;gap:14px;padding:14px 0;border-bottom:1px solid rgba(255,255,255,0.04);animation:fadeInUp 0.4s ease backwards}.tx-item:nth-child(1){animation-delay:0.1s}.tx-item:nth-child(2){animation-delay:0.2s}.tx-item:nth-child(3){animation-delay:0.3s}.tx-item:nth-child(4){animation-delay:0.4s}.tx-item:nth-child(5){animation-delay:0.5s}@keyframes fadeInUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.tx-icon{width:44px;height:44px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:20px}.tx-icon.food{background:rgba(251,146,60,0.15)}.tx-icon.transport{background:rgba(56,189,248,0.15)}.tx-icon.shopping{background:rgba(244,114,182,0.15)}.tx-icon.bills{background:rgba(163,130,255,0.15)}.tx-icon.entertainment{background:rgba(52,211,153,0.15)}.tx-info{flex:1}.tx-info .name{font-size:14px;font-weight:500}.tx-info .cat{font-size:12px;color:rgba(255,255,255,0.4);margin-top:2px}.tx-amount{font-size:15px;font-weight:600;color:#f87171}.tx-amount.income{color:#4ade80}.nav{position:fixed;bottom:0;left:0;right:0;height:70px;background:rgba(5,5,7,0.9);backdrop-filter:blur(20px);border-top:1px solid rgba(255,255,255,0.06);display:flex;justify-content:space-around;align-items:center;padding-bottom:env(safe-area-inset-bottom)}.nav-item{display:flex;flex-direction:column;align-items:center;gap:4px;cursor:pointer;padding:8px 16px;border-radius:12px;transition:all 0.3s}.nav-item.active{background:rgba(99,102,241,0.15)}.nav-item .icon{font-size:20px}.nav-item .label{font-size:10px;color:rgba(255,255,255,0.4)}.nav-item.active .label{color:#818cf8}.fab{position:fixed;bottom:85px;right:20px;width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#6366f1,#8b5cf6);display:flex;align-items:center;justify-content:center;font-size:28px;cursor:pointer;box-shadow:0 4px 24px rgba(99,102,241,0.4);transition:transform 0.3s;z-index:10}.fab:hover{transform:scale(1.1)}</style></head><body><div class=\"header\"><h1>SpendWise</h1><div class=\"avatar\">A</div></div><div class=\"balance-card\"><div class=\"label\">Total Balance</div><div class=\"amount\" id=\"balance\">‚Çπ0</div><div class=\"row\"><div class=\"sub\"><div class=\"val income-icon\" id=\"totalIncome\">‚Çπ0</div><div class=\"lbl\">‚Üë Income</div></div><div class=\"sub\"><div class=\"val expense-icon\" id=\"totalExpense\">‚Çπ0</div><div class=\"lbl\">‚Üì Expenses</div></div></div></div><div class=\"section-title\">Weekly Overview <span>This Week</span></div><div class=\"chart-container\"><div class=\"chart-bar-group\" id=\"chartBars\"></div><div class=\"chart-labels\"><span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span></div></div><div class=\"section-title\">Recent Transactions <span>See All</span></div><div class=\"transactions\" id=\"txList\"></div><div class=\"fab\" onclick=\"navigate('Add Expense')\">+</div><nav class=\"nav\"><div class=\"nav-item active\" onclick=\"navigate('Dashboard')\"><span class=\"icon\">üè†</span><span class=\"label\">Home</span></div><div class=\"nav-item\" onclick=\"navigate('Categories')\"><span class=\"icon\">üìä</span><span class=\"label\">Categories</span></div><div class=\"nav-item\" onclick=\"navigate('Charts')\"><span class=\"icon\">üìà</span><span class=\"label\">Charts</span></div><div class=\"nav-item\" onclick=\"navigate('Settings')\"><span class=\"icon\">‚öôÔ∏è</span><span class=\"label\">Settings</span></div></nav><script>function navigate(s){window.parent.postMessage({type:'navigate',screen:s},'*')}function initData(){if(!localStorage.getItem('sw_expenses')){const d=[{id:1,name:'Swiggy Order',amount:450,category:'food',date:'2026-02-20',type:'expense'},{id:2,name:'Uber Ride',amount:280,category:'transport',date:'2026-02-20',type:'expense'},{id:3,name:'Amazon Shopping',amount:1299,category:'shopping',date:'2026-02-19',type:'expense'},{id:4,name:'Electricity Bill',amount:2100,category:'bills',date:'2026-02-18',type:'expense'},{id:5,name:'Netflix',amount:649,category:'entertainment',date:'2026-02-18',type:'expense'},{id:6,name:'Salary',amount:65000,category:'salary',date:'2026-02-01',type:'income'},{id:7,name:'Freelance',amount:15000,category:'freelance',date:'2026-02-10',type:'income'},{id:8,name:'Zomato',amount:380,category:'food',date:'2026-02-17',type:'expense'},{id:9,name:'Petrol',amount:1500,category:'transport',date:'2026-02-16',type:'expense'},{id:10,name:'Gym',amount:2000,category:'bills',date:'2026-02-15',type:'expense'}];localStorage.setItem('sw_expenses',JSON.stringify(d))}}function render(){const items=JSON.parse(localStorage.getItem('sw_expenses')||'[]');const income=items.filter(i=>i.type==='income').reduce((s,i)=>s+i.amount,0);const expense=items.filter(i=>i.type==='expense').reduce((s,i)=>s+i.amount,0);document.getElementById('balance').textContent='‚Çπ'+((income-expense).toLocaleString('en-IN'));document.getElementById('totalIncome').textContent='‚Çπ'+(income.toLocaleString('en-IN'));document.getElementById('totalExpense').textContent='‚Çπ'+(expense.toLocaleString('en-IN'));const catIcons={food:'üçï',transport:'üöó',shopping:'üõçÔ∏è',bills:'üìÑ',entertainment:'üé¨',salary:'üí∞',freelance:'üíª'};const recent=items.filter(i=>i.type==='expense').slice(0,5);const txList=document.getElementById('txList');txList.innerHTML=recent.map(tx=>`<div class=\"tx-item\"><div class=\"tx-icon ${tx.category}\">${catIcons[tx.category]||'üí∞'}</div><div class=\"tx-info\"><div class=\"name\">${tx.name}</div><div class=\"cat\">${tx.category.charAt(0).toUpperCase()+tx.category.slice(1)} ¬∑ ${tx.date}</div></div><div class=\"tx-amount\">-‚Çπ${tx.amount.toLocaleString('en-IN')}</div></div>`).join('');const weekData=[2400,1800,3200,1200,2800,4500,1650];const maxVal=Math.max(...weekData);const bars=document.getElementById('chartBars');bars.innerHTML=weekData.map(v=>`<div class=\"chart-bar\" style=\"height:${(v/maxVal)*100}%\"></div>`).join('')}initData();render();</script></body></html>"
    },
    {
      "name": "Add Expense",
      "html": "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no\"><title>SpendWise - Add</title><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#050507;color:#fff;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;min-height:100vh;padding-bottom:80px}.header{padding:20px;display:flex;align-items:center;gap:16px}.header .back{font-size:24px;cursor:pointer;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:12px;background:rgba(255,255,255,0.04);transition:background 0.3s}.header .back:hover{background:rgba(255,255,255,0.08)}.header h1{font-size:20px;font-weight:600}.type-toggle{display:flex;margin:0 20px 24px;background:rgba(255,255,255,0.04);border-radius:14px;padding:4px}.type-btn{flex:1;padding:12px;text-align:center;border-radius:12px;font-size:14px;font-weight:500;cursor:pointer;transition:all 0.3s}.type-btn.active{background:linear-gradient(135deg,#6366f1,#8b5cf6);box-shadow:0 4px 16px rgba(99,102,241,0.3)}.amount-section{text-align:center;padding:20px 0 30px}.amount-section .currency{font-size:28px;color:rgba(255,255,255,0.3);vertical-align:top;margin-right:4px}.amount-input{background:none;border:none;color:#fff;font-size:56px;font-weight:700;text-align:center;width:80%;outline:none;caret-color:#818cf8;font-family:inherit}.amount-input::placeholder{color:rgba(255,255,255,0.15)}.form-section{padding:0 20px}.form-group{margin-bottom:20px}.form-group label{display:block;font-size:13px;color:rgba(255,255,255,0.5);margin-bottom:8px;font-weight:500}.form-group input,.form-group select{width:100%;padding:16px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.08);border-radius:14px;color:#fff;font-size:15px;outline:none;transition:border-color 0.3s;font-family:inherit;-webkit-appearance:none}.form-group input:focus,.form-group select:focus{border-color:#6366f1}.form-group select{cursor:pointer}.form-group select option{background:#1a1a2e;color:#fff}.categories{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}.cat-item{display:flex;flex-direction:column;align-items:center;gap:6px;padding:14px 8px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.06);border-radius:14px;cursor:pointer;transition:all 0.3s;font-size:12px;color:rgba(255,255,255,0.6)}.cat-item:hover{background:rgba(255,255,255,0.08)}.cat-item.active{background:rgba(99,102,241,0.15);border-color:#6366f1;color:#818cf8}.cat-item .emoji{font-size:24px}.save-btn{width:calc(100% - 40px);margin:30px 20px;padding:18px;background:linear-gradient(135deg,#6366f1,#8b5cf6);border:none;border-radius:16px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all 0.3s;font-family:inherit}.save-btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(99,102,241,0.4)}.save-btn:active{transform:scale(0.98)}.toast{position:fixed;top:20px;left:50%;transform:translateX(-50%) translateY(-100px);background:linear-gradient(135deg,#059669,#10b981);padding:14px 28px;border-radius:14px;font-size:14px;font-weight:500;transition:transform 0.5s cubic-bezier(0.34,1.56,0.64,1);z-index:100}.toast.show{transform:translateX(-50%) translateY(0)}.nav{position:fixed;bottom:0;left:0;right:0;height:70px;background:rgba(5,5,7,0.9);backdrop-filter:blur(20px);border-top:1px solid rgba(255,255,255,0.06);display:flex;justify-content:space-around;align-items:center}.nav-item{display:flex;flex-direction:column;align-items:center;gap:4px;cursor:pointer;padding:8px 16px;border-radius:12px;transition:all 0.3s}.nav-item .icon{font-size:20px}.nav-item .label{font-size:10px;color:rgba(255,255,255,0.4)}</style></head><body><div class=\"header\"><div class=\"back\" onclick=\"navigate('Dashboard')\">‚Üê</div><h1>Add Transaction</h1></div><div class=\"type-toggle\"><div class=\"type-btn active\" id=\"expBtn\" onclick=\"setType('expense')\">Expense</div><div class=\"type-btn\" id=\"incBtn\" onclick=\"setType('income')\">Income</div></div><div class=\"amount-section\"><span class=\"currency\">‚Çπ</span><input type=\"number\" class=\"amount-input\" id=\"amount\" placeholder=\"0\" autofocus></div><div class=\"form-section\"><div class=\"form-group\"><label>Description</label><input type=\"text\" id=\"name\" placeholder=\"What did you spend on?\"></div><div class=\"form-group\"><label>Category</label><div class=\"categories\" id=\"catGrid\"></div></div><div class=\"form-group\"><label>Date</label><input type=\"date\" id=\"date\"></div></div><button class=\"save-btn\" onclick=\"saveTransaction()\">Save Transaction</button><div class=\"toast\" id=\"toast\">‚úÖ Transaction saved!</div><nav class=\"nav\"><div class=\"nav-item\" onclick=\"navigate('Dashboard')\"><span class=\"icon\">üè†</span><span class=\"label\">Home</span></div><div class=\"nav-item\" onclick=\"navigate('Categories')\"><span class=\"icon\">üìä</span><span class=\"label\">Categories</span></div><div class=\"nav-item\" onclick=\"navigate('Charts')\"><span class=\"icon\">üìà</span><span class=\"label\">Charts</span></div><div class=\"nav-item\" onclick=\"navigate('Settings')\"><span class=\"icon\">‚öôÔ∏è</span><span class=\"label\">Settings</span></div></nav><script>let txType='expense';let selectedCat='food';const expCats=[{id:'food',emoji:'üçï',name:'Food'},{id:'transport',emoji:'üöó',name:'Transport'},{id:'shopping',emoji:'üõçÔ∏è',name:'Shopping'},{id:'bills',emoji:'üìÑ',name:'Bills'},{id:'entertainment',emoji:'üé¨',name:'Fun'},{id:'health',emoji:'üíä',name:'Health'},{id:'education',emoji:'üìö',name:'Education'},{id:'other',emoji:'üì¶',name:'Other'}];const incCats=[{id:'salary',emoji:'üí∞',name:'Salary'},{id:'freelance',emoji:'üíª',name:'Freelance'},{id:'investment',emoji:'üìà',name:'Investment'},{id:'gift',emoji:'üéÅ',name:'Gift'}];function navigate(s){window.parent.postMessage({type:'navigate',screen:s},'*')}function setType(t){txType=t;document.getElementById('expBtn').classList.toggle('active',t==='expense');document.getElementById('incBtn').classList.toggle('active',t==='income');renderCats()}function renderCats(){const cats=txType==='expense'?expCats:incCats;selectedCat=cats[0].id;document.getElementById('catGrid').innerHTML=cats.map(c=>`<div class=\"cat-item ${c.id===selectedCat?'active':''}\" onclick=\"selectCat('${c.id}')\"><span class=\"emoji\">${c.emoji}</span>${c.name}</div>`).join('')}function selectCat(id){selectedCat=id;document.querySelectorAll('.cat-item').forEach(el=>{el.classList.toggle('active',el.onclick.toString().includes(id))})}function saveTransaction(){const amount=parseFloat(document.getElementById('amount').value);const name=document.getElementById('name').value.trim();const date=document.getElementById('date').value;if(!amount||!name){alert('Please fill amount and description');return}const items=JSON.parse(localStorage.getItem('sw_expenses')||'[]');const newItem={id:Date.now(),name,amount,category:selectedCat,date:date||new Date().toISOString().split('T')[0],type:txType};items.unshift(newItem);localStorage.setItem('sw_expenses',JSON.stringify(items));const toast=document.getElementById('toast');toast.classList.add('show');setTimeout(()=>{toast.classList.remove('show');navigate('Dashboard')},1200)}document.getElementById('date').value=new Date().toISOString().split('T')[0];renderCats();</script></body></html>"
    },
    {
      "name": "Categories",
      "html": "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no\"><title>SpendWise - Categories</title><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#050507;color:#fff;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;min-height:100vh;padding-bottom:80px}.header{padding:20px;display:flex;align-items:center;gap:16px}.header h1{font-size:20px;font-weight:600}.month-nav{display:flex;align-items:center;justify-content:center;gap:20px;padding:0 20px 20px}.month-nav .arrow{width:36px;height:36px;border-radius:50%;background:rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background 0.3s}.month-nav .arrow:hover{background:rgba(255,255,255,0.08)}.month-nav .month{font-size:16px;font-weight:600}.donut-container{display:flex;justify-content:center;padding:10px 0 20px;position:relative}.donut{width:200px;height:200px;border-radius:50%;position:relative;display:flex;align-items:center;justify-content:center}.donut-center{text-align:center}.donut-center .total{font-size:24px;font-weight:700}.donut-center .lbl{font-size:12px;color:rgba(255,255,255,0.4)}.cat-list{padding:0 20px}.cat-card{display:flex;align-items:center;gap:14px;padding:16px;margin-bottom:10px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.06);border-radius:16px;animation:fadeIn 0.4s ease backwards;cursor:pointer;transition:background 0.3s}.cat-card:hover{background:rgba(255,255,255,0.06)}.cat-card:nth-child(1){animation-delay:0.05s}.cat-card:nth-child(2){animation-delay:0.1s}.cat-card:nth-child(3){animation-delay:0.15s}.cat-card:nth-child(4){animation-delay:0.2s}.cat-card:nth-child(5){animation-delay:0.25s}.cat-card:nth-child(6){animation-delay:0.3s}@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.cat-icon{width:48px;height:48px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:22px}.cat-info{flex:1}.cat-info .name{font-size:14px;font-weight:500;margin-bottom:6px}.cat-bar{height:4px;background:rgba(255,255,255,0.06);border-radius:2px;overflow:hidden}.cat-bar-fill{height:100%;border-radius:2px;transition:width 0.8s ease}.cat-right{text-align:right}.cat-right .amount{font-size:15px;font-weight:600}.cat-right .percent{font-size:12px;color:rgba(255,255,255,0.4);margin-top:2px}.nav{position:fixed;bottom:0;left:0;right:0;height:70px;background:rgba(5,5,7,0.9);backdrop-filter:blur(20px);border-top:1px solid rgba(255,255,255,0.06);display:flex;justify-content:space-around;align-items:center}.nav-item{display:flex;flex-direction:column;align-items:center;gap:4px;cursor:pointer;padding:8px 16px;border-radius:12px;transition:all 0.3s}.nav-item.active{background:rgba(99,102,241,0.15)}.nav-item .icon{font-size:20px}.nav-item .label{font-size:10px;color:rgba(255,255,255,0.4)}.nav-item.active .label{color:#818cf8}</style></head><body><div class=\"header\"><h1>Categories</h1></div><div class=\"month-nav\"><div class=\"arrow\">‚Äπ</div><div class=\"month\">February 2026</div><div class=\"arrow\">‚Ä∫</div></div><div class=\"donut-container\"><div class=\"donut\" id=\"donut\"><div class=\"donut-center\"><div class=\"total\" id=\"totalSpent\">‚Çπ0</div><div class=\"lbl\">Total Spent</div></div></div></div><div class=\"cat-list\" id=\"catList\"></div><nav class=\"nav\"><div class=\"nav-item\" onclick=\"navigate('Dashboard')\"><span class=\"icon\">üè†</span><span class=\"label\">Home</span></div><div class=\"nav-item active\" onclick=\"navigate('Categories')\"><span class=\"icon\">üìä</span><span class=\"label\">Categories</span></div><div class=\"nav-item\" onclick=\"navigate('Charts')\"><span class=\"icon\">üìà</span><span class=\"label\">Charts</span></div><div class=\"nav-item\" onclick=\"navigate('Settings')\"><span class=\"icon\">‚öôÔ∏è</span><span class=\"label\">Settings</span></div></nav><script>function navigate(s){window.parent.postMessage({type:'navigate',screen:s},'*')}const catMeta={food:{emoji:'üçï',color:'#fb923c',bg:'rgba(251,146,60,0.15)'},transport:{emoji:'üöó',color:'#38bdf8',bg:'rgba(56,189,248,0.15)'},shopping:{emoji:'üõçÔ∏è',color:'#f472b6',bg:'rgba(244,114,182,0.15)'},bills:{emoji:'üìÑ',color:'#a78bfa',bg:'rgba(163,130,255,0.15)'},entertainment:{emoji:'üé¨',color:'#34d399',bg:'rgba(52,211,153,0.15)'},health:{emoji:'üíä',color:'#f87171',bg:'rgba(248,113,113,0.15)'},education:{emoji:'üìö',color:'#fbbf24',bg:'rgba(251,191,36,0.15)'},other:{emoji:'üì¶',color:'#94a3b8',bg:'rgba(148,163,184,0.15)'}};function render(){const items=JSON.parse(localStorage.getItem('sw_expenses')||'[]');const expenses=items.filter(i=>i.type==='expense');const total=expenses.reduce((s,i)=>s+i.amount,0);document.getElementById('totalSpent').textContent='‚Çπ'+total.toLocaleString('en-IN');const byCat={};expenses.forEach(e=>{byCat[e.category]=(byCat[e.category]||0)+e.amount});const sorted=Object.entries(byCat).sort((a,b)=>b[1]-a[1]);const list=document.getElementById('catList');list.innerHTML=sorted.map(([cat,amt])=>{const meta=catMeta[cat]||catMeta.other;const pct=total?Math.round(amt/total*100):0;return`<div class=\"cat-card\"><div class=\"cat-icon\" style=\"background:${meta.bg}\">${meta.emoji}</div><div class=\"cat-info\"><div class=\"name\">${cat.charAt(0).toUpperCase()+cat.slice(1)}</div><div class=\"cat-bar\"><div class=\"cat-bar-fill\" style=\"width:${pct}%;background:${meta.color}\"></div></div></div><div class=\"cat-right\"><div class=\"amount\">‚Çπ${amt.toLocaleString('en-IN')}</div><div class=\"percent\">${pct}%</div></div></div>`}).join('');const donut=document.getElementById('donut');let gradientParts=[];let cumulative=0;const colors=sorted.map(([cat])=>(catMeta[cat]||catMeta.other).color);sorted.forEach(([cat,amt],i)=>{const pct=total?(amt/total*100):0;gradientParts.push(`${colors[i]} ${cumulative}% ${cumulative+pct}%`);cumulative+=pct});donut.style.background=`conic-gradient(${gradientParts.join(',')})`}render();</script></body></html>"
    },
    {
      "name": "Charts",
      "html": "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no\"><title>SpendWise - Charts</title><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#050507;color:#fff;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;min-height:100vh;padding-bottom:80px}.header{padding:20px;display:flex;align-items:center;gap:16px}.header h1{font-size:20px;font-weight:600}.tab-bar{display:flex;gap:8px;padding:0 20px 20px;overflow-x:auto}.tab{padding:10px 20px;border-radius:12px;background:rgba(255,255,255,0.04);font-size:13px;cursor:pointer;white-space:nowrap;transition:all 0.3s;border:1px solid rgba(255,255,255,0.06)}.tab.active{background:linear-gradient(135deg,#6366f1,#8b5cf6);border-color:transparent}.card{margin:0 20px 16px;padding:20px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.06);border-radius:16px;backdrop-filter:blur(20px)}.card-title{font-size:14px;font-weight:600;margin-bottom:16px;display:flex;justify-content:space-between;align-items:center}.card-title span{color:#818cf8;font-size:12px;font-weight:400}.line-chart{position:relative;height:180px;display:flex;align-items:flex-end;gap:2px;padding-left:40px}.y-label{position:absolute;left:0;font-size:10px;color:rgba(255,255,255,0.3)}.line-bar{flex:1;border-radius:4px 4px 0 0;background:linear-gradient(to top,rgba(99,102,241,0.3),rgba(99,102,241,0.8));position:relative;transition:all 0.3s;cursor:pointer;min-height:4px;animation:grow 0.6s ease backwards}.line-bar:hover{background:linear-gradient(to top,rgba(139,92,246,0.5),rgba(139,92,246,1))}.line-bar:hover::after{content:attr(data-val);position:absolute;top:-28px;left:50%;transform:translateX(-50%);background:rgba(99,102,241,0.9);padding:4px 10px;border-radius:8px;font-size:11px;white-space:nowrap}@keyframes grow{from{height:0}}  .x-labels{display:flex;padding-left:40px;margin-top:8px}.x-labels span{flex:1;text-align:center;font-size:10px;color:rgba(255,255,255,0.3)}.stat-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:0 20px;margin-bottom:16px}.stat-card{padding:18px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.06);border-radius:14px;text-align:center}.stat-card .value{font-size:22px;font-weight:700;margin-bottom:4px}.stat-card .label{font-size:11px;color:rgba(255,255,255,0.4)}.stat-card.green .value{color:#4ade80}.stat-card.red .value{color:#f87171}.stat-card.purple .value{color:#a78bfa}.stat-card.blue .value{color:#38bdf8}.trend-item{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid rgba(255,255,255,0.04)}.trend-item:last-child{border-bottom:none}.trend-dot{width:8px;height:8px;border-radius:50%}.trend-info{flex:1}.trend-info .name{font-size:13px}.trend-info .detail{font-size:11px;color:rgba(255,255,255,0.4);margin-top:2px}.trend-val{font-size:13px;font-weight:600}.trend-val.up{color:#f87171}.trend-val.down{color:#4ade80}.nav{position:fixed;bottom:0;left:0;right:0;height:70px;background:rgba(5,5,7,0.9);backdrop-filter:blur(20px);border-top:1px solid rgba(255,255,255,0.06);display:flex;justify-content:space-around;align-items:center}.nav-item{display:flex;flex-direction:column;align-items:center;gap:4px;cursor:pointer;padding:8px 16px;border-radius:12px;transition:all 0.3s}.nav-item.active{background:rgba(99,102,241,0.15)}.nav-item .icon{font-size:20px}.nav-item .label{font-size:10px;color:rgba(255,255,255,0.4)}.nav-item.active .label{color:#818cf8}</style></head><body><div class=\"header\"><h1>Analytics</h1></div><div class=\"tab-bar\"><div class=\"tab active\">Weekly</div><div class=\"tab\">Monthly</div><div class=\"tab\">Yearly</div></div><div class=\"stat-grid\"><div class=\"stat-card green\"><div class=\"value\" id=\"avgDaily\">‚Çπ0</div><div class=\"label\">Avg Daily</div></div><div class=\"stat-card red\"><div class=\"value\" id=\"highest\">‚Çπ0</div><div class=\"label\">Highest Day</div></div><div class=\"stat-card purple\"><div class=\"value\" id=\"txCount\">0</div><div class=\"label\">Transactions</div></div><div class=\"stat-card blue\"><div class=\"value\" id=\"savedPct\">0%</div><div class=\"label\">Saved</div></div></div><div class=\"card\"><div class=\"card-title\">Spending Trend <span>Last 12 days</span></div><div class=\"line-chart\" id=\"lineChart\"></div><div class=\"x-labels\" id=\"xLabels\"></div></div><div class=\"card\"><div class=\"card-title\">Spending Insights</div><div id=\"trends\"></div></div><nav class=\"nav\"><div class=\"nav-item\" onclick=\"navigate('Dashboard')\"><span class=\"icon\">üè†</span><span class=\"label\">Home</span></div><div class=\"nav-item\" onclick=\"navigate('Categories')\"><span class=\"icon\">üìä</span><span class=\"label\">Categories</span></div><div class=\"nav-item active\" onclick=\"navigate('Charts')\"><span class=\"icon\">üìà</span><span class=\"label\">Charts</span></div><div class=\"nav-item\" onclick=\"navigate('Settings')\"><span class=\"icon\">‚öôÔ∏è</span><span class=\"label\">Settings</span></div></nav><script>function navigate(s){window.parent.postMessage({type:'navigate',screen:s},'*')}function render(){const items=JSON.parse(localStorage.getItem('sw_expenses')||'[]');const expenses=items.filter(i=>i.type==='expense');const income=items.filter(i=>i.type==='income').reduce((s,i)=>s+i.amount,0);const totalExp=expenses.reduce((s,i)=>s+i.amount,0);document.getElementById('avgDaily').textContent='‚Çπ'+Math.round(totalExp/28).toLocaleString('en-IN');document.getElementById('highest').textContent='‚Çπ'+Math.max(...expenses.map(e=>e.amount),0).toLocaleString('en-IN');document.getElementById('txCount').textContent=expenses.length;const savedPct=income>0?Math.round((1-totalExp/income)*100):0;document.getElementById('savedPct').textContent=savedPct+'%';const dailyData=[1200,3400,2100,800,4500,2200,1650,3100,2800,1900,2400,3200];const maxD=Math.max(...dailyData);const chart=document.getElementById('lineChart');chart.innerHTML=dailyData.map((v,i)=>`<div class=\"line-bar\" style=\"height:${(v/maxD)*100}%;animation-delay:${i*0.05}s\" data-val=\"‚Çπ${v.toLocaleString('en-IN')}\"></div>`).join('');const labels=document.getElementById('xLabels');labels.innerHTML=Array.from({length:12},(_,i)=>`<span>${9+i}</span>`).join('');const insights=[{name:'Food & Dining',detail:'‚Üë 15% vs last week',val:'+‚Çπ820',cls:'up',color:'#fb923c'},{name:'Transport',detail:'‚Üì 8% vs last week',val:'-‚Çπ340',cls:'down',color:'#38bdf8'},{name:'Shopping',detail:'‚Üë 42% vs last week',val:'+‚Çπ2,100',cls:'up',color:'#f472b6'},{name:'Bills & Utilities',detail:'Same as usual',val:'‚Çπ0',cls:'',color:'#a78bfa'}];document.getElementById('trends').innerHTML=insights.map(t=>`<div class=\"trend-item\"><div class=\"trend-dot\" style=\"background:${t.color}\"></div><div class=\"trend-info\"><div class=\"name\">${t.name}</div><div class=\"detail\">${t.detail}</div></div><div class=\"trend-val ${t.cls}\">${t.val}</div></div>`).join('')}render();</script></body></html>"
    },
    {
      "name": "Settings",
      "html": "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no\"><title>SpendWise - Settings</title><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#050507;color:#fff;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;min-height:100vh;padding-bottom:80px}.header{padding:20px;display:flex;align-items:center;gap:16px}.header h1{font-size:20px;font-weight:600}.profile-section{text-align:center;padding:20px 0 30px}.profile-avatar{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#6366f1,#8b5cf6);margin:0 auto 12px;display:flex;align-items:center;justify-content:center;font-size:32px}.profile-name{font-size:18px;font-weight:600;margin-bottom:4px}.profile-email{font-size:13px;color:rgba(255,255,255,0.4)}.section{padding:0 20px;margin-bottom:24px}.section-label{font-size:13px;color:rgba(255,255,255,0.4);font-weight:500;margin-bottom:10px;text-transform:uppercase;letter-spacing:0.5px}.settings-card{background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.06);border-radius:16px;overflow:hidden}.setting-item{display:flex;align-items:center;gap:14px;padding:16px;border-bottom:1px solid rgba(255,255,255,0.04);cursor:pointer;transition:background 0.3s}.setting-item:last-child{border-bottom:none}.setting-item:hover{background:rgba(255,255,255,0.04)}.setting-icon{width:40px;height:40px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px}.setting-icon.purple{background:rgba(139,92,246,0.15)}.setting-icon.blue{background:rgba(56,189,248,0.15)}.setting-icon.green{background:rgba(52,211,153,0.15)}.setting-icon.orange{background:rgba(251,146,60,0.15)}.setting-icon.red{background:rgba(248,113,113,0.15)}.setting-info{flex:1}.setting-info .name{font-size:14px;font-weight:500}.setting-info .desc{font-size:12px;color:rgba(255,255,255,0.3);margin-top:2px}.setting-arrow{color:rgba(255,255,255,0.2);font-size:18px}.toggle{width:48px;height:28px;border-radius:14px;background:rgba(255,255,255,0.1);position:relative;cursor:pointer;transition:background 0.3s}.toggle.on{background:#6366f1}.toggle-knob{width:22px;height:22px;border-radius:50%;background:#fff;position:absolute;top:3px;left:3px;transition:transform 0.3s}.toggle.on .toggle-knob{transform:translateX(20px)}.danger-btn{width:calc(100% - 40px);margin:20px;padding:16px;background:rgba(248,113,113,0.1);border:1px solid rgba(248,113,113,0.2);border-radius:14px;color:#f87171;font-size:14px;font-weight:500;cursor:pointer;text-align:center;transition:all 0.3s}.danger-btn:hover{background:rgba(248,113,113,0.15)}.version{text-align:center;padding:20px;font-size:12px;color:rgba(255,255,255,0.2)}.nav{position:fixed;bottom:0;left:0;right:0;height:70px;background:rgba(5,5,7,0.9);backdrop-filter:blur(20px);border-top:1px solid rgba(255,255,255,0.06);display:flex;justify-content:space-around;align-items:center}.nav-item{display:flex;flex-direction:column;align-items:center;gap:4px;cursor:pointer;padding:8px 16px;border-radius:12px;transition:all 0.3s}.nav-item.active{background:rgba(99,102,241,0.15)}.nav-item .icon{font-size:20px}.nav-item .label{font-size:10px;color:rgba(255,255,255,0.4)}.nav-item.active .label{color:#818cf8}</style></head><body><div class=\"header\"><h1>Settings</h1></div><div class=\"profile-section\"><div class=\"profile-avatar\">A</div><div class=\"profile-name\">User</div><div class=\"profile-email\">Free Plan</div></div><div class=\"section\"><div class=\"section-label\">Preferences</div><div class=\"settings-card\"><div class=\"setting-item\"><div class=\"setting-icon purple\">üí∞</div><div class=\"setting-info\"><div class=\"name\">Currency</div><div class=\"desc\">Indian Rupee (‚Çπ)</div></div><div class=\"setting-arrow\">‚Ä∫</div></div><div class=\"setting-item\"><div class=\"setting-icon blue\">üìÖ</div><div class=\"setting-info\"><div class=\"name\">Budget Cycle</div><div class=\"desc\">Monthly (1st - 30th)</div></div><div class=\"setting-arrow\">‚Ä∫</div></div><div class=\"setting-item\" onclick=\"toggleEl(this)\"><div class=\"setting-icon green\">üîî</div><div class=\"setting-info\"><div class=\"name\">Notifications</div><div class=\"desc\">Daily spending reminders</div></div><div class=\"toggle on\" id=\"notifToggle\"><div class=\"toggle-knob\"></div></div></div><div class=\"setting-item\" onclick=\"toggleDark(this)\"><div class=\"setting-icon orange\">üåô</div><div class=\"setting-info\"><div class=\"name\">Dark Mode</div><div class=\"desc\">Always on</div></div><div class=\"toggle on\" id=\"darkToggle\"><div class=\"toggle-knob\"></div></div></div></div></div><div class=\"section\"><div class=\"section-label\">Data</div><div class=\"settings-card\"><div class=\"setting-item\" onclick=\"exportData()\"><div class=\"setting-icon blue\">üì§</div><div class=\"setting-info\"><div class=\"name\">Export Data</div><div class=\"desc\">Download as JSON</div></div><div class=\"setting-arrow\">‚Ä∫</div></div><div class=\"setting-item\"><div class=\"setting-icon green\">üì•</div><div class=\"setting-info\"><div class=\"name\">Import Data</div><div class=\"desc\">Restore from backup</div></div><div class=\"setting-arrow\">‚Ä∫</div></div></div></div><div class=\"danger-btn\" onclick=\"clearData()\">üóëÔ∏è Clear All Data</div><div class=\"version\">SpendWise v1.0 ¬∑ Made with AppForge</div><nav class=\"nav\"><div class=\"nav-item\" onclick=\"navigate('Dashboard')\"><span class=\"icon\">üè†</span><span class=\"label\">Home</span></div><div class=\"nav-item\" onclick=\"navigate('Categories')\"><span class=\"icon\">üìä</span><span class=\"label\">Categories</span></div><div class=\"nav-item\" onclick=\"navigate('Charts')\"><span class=\"icon\">üìà</span><span class=\"label\">Charts</span></div><div class=\"nav-item active\" onclick=\"navigate('Settings')\"><span class=\"icon\">‚öôÔ∏è</span><span class=\"label\">Settings</span></div></nav><script>function navigate(s){window.parent.postMessage({type:'navigate',screen:s},'*')}function toggleEl(el){const t=el.querySelector('.toggle');t.classList.toggle('on')}function toggleDark(el){toggleEl(el)}function exportData(){const data=localStorage.getItem('sw_expenses')||'[]';const blob=new Blob([data],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='spendwise-backup.json';a.click();URL.revokeObjectURL(url)}function clearData(){if(confirm('Are you sure? This will delete all your transactions.')){localStorage.removeItem('sw_expenses');alert('All data cleared!');navigate('Dashboard')}}</script></body></html>"
    }
  ]
}
